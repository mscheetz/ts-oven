/**
 * Copyright (c) {YEAR}
 * 
 * Represents a Mongo Repository for interacting with a MongoDb
 * 
 * @summary MongoRepository
 * @author {AUTHOR}
 * 
 * Created at       : {CREATED}
 * Last modified    : {MODIFIED}
 */
import mongoose from 'mongoose';

interface baseModel extends mongoose.Model<baseDoc>{
    build(attr: Base): baseDoc
}

interface baseDoc extends mongoose.Document {
    id: string;
    name: string;
}

const baseSchema = new mongoose.Schema({
    id: { 
        type: String, 
        required: true 
    },
    name: { 
        type: String, 
        required: true 
    }
});

baseSchema.statics.build = (attr: Base) => {
    return new Base(attr);
}

const Base = mongoose.model<baseDoc, baseModel>('Base', baseSchema);

export { Base }
